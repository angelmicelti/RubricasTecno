<!DOCTYPE html>
<html lang="es">
<head>
	<link rel="manifest" href="./manifest.json" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <title>Rúbricas Digitalización 4º ESO</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://unpkg.com/tailwindcss-cdn@3.4.10/tailwindcss.js"></script>

    <!-- Fuente Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Estilo para la fuente Inter */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilo para el scrollbar (opcional pero mejora la estética) */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* cool-gray-300 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; /* cool-gray-400 */
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; /* cool-gray-100 */
        }
        
        /* Estilos para el tooltip - CORREGIDOS */
        .tooltip-container {
            position: relative;
            display: inline-block;
        }
        
        .tooltip-content {
            visibility: hidden;
            width: 320px;
            background-color: #1f2937;
            color: white;
            text-align: left;
            border-radius: 6px;
            padding: 12px 16px;
            position: absolute;
            z-index: 100;
            top: 125%; /* Cambiado de bottom a top */
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            font-size: 0.875rem;
        }
        
        .tooltip-container:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
        }
        
        .tooltip-content::after {
            content: "";
            position: absolute;
            bottom: 100%; /* Cambiado de top a bottom */
            left: 50%;
            margin-left: -8px;
            border-width: 8px;
            border-style: solid;
            border-color: transparent transparent #1f2937 transparent; /* Cambiado para que apunte hacia arriba */
        }
        
        .tooltip-trigger {
            border-bottom: 1px dashed #6b7280;
            cursor: help;
            padding-bottom: 2px;
        }
        
        .tooltip-trigger:hover {
            color: #3b82f6;
        }

        /* Estilos responsivos adicionales */
        @media (max-width: 768px) {
            .rubric-table {
                font-size: 0.75rem;
            }
            
            .rubric-cell {
                padding: 0.5rem 0.25rem;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .sidebar {
                position: fixed;
                top: 0;
                left: -100%;
                width: 80%;
                height: 100vh;
                z-index: 40;
                transition: left 0.3s ease;
            }
            
            .sidebar.open {
                left: 0;
            }
            
            .overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 30;
            }
            
            .overlay.open {
                display: block;
            }
        }
        
        @media (max-width: 640px) {
            .main-title {
                font-size: 1.5rem;
            }
            
            .btn-text {
                font-size: 0.875rem;
            }
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- PANTALLA PRINCIPAL -->
    <div id="main-screen" class="min-h-screen flex flex-col justify-center items-center p-4 sm:p-6">
        <div class="max-w-lg w-full bg-white rounded-xl shadow-lg p-6 md:p-8 lg:p-10">
            <!-- Icono grande principal -->
            <div class="flex justify-center mb-4 md:mb-6">
                <div class="w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-blue-100 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 lg:h-12 lg:w-12 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                    </svg>
                </div>
            </div>
            
            <div class="text-center mb-6 md:mb-8">
                <h1 class="main-title text-2xl md:text-3xl lg:text-4xl font-bold text-gray-800 mb-1 md:mb-2">CRITERIOS DE EVALUACIÓN <br> Y <br> RÚBRICAS</h1>
                <p class="text-base md:text-lg text-gray-600">DIGITALIZACIÓN 4º ESO</p>
            </div>
            
            <div class="space-y-3 md:space-y-4">
                <button id="btn-competencias" class="w-full py-3 md:py-4 px-4 md:px-6 rounded-lg bg-blue-600 text-white font-semibold text-base md:text-lg hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 shadow-sm flex items-center justify-center gap-2 md:gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 md:h-6 md:w-6" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                    </svg>
                    <span class="btn-text">Selección por competencias específicas</span>
                </button>
                
                <button id="btn-multiple" class="w-full py-3 md:py-4 px-4 md:px-6 rounded-lg bg-green-600 text-white font-semibold text-base md:text-lg hover:bg-green-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 shadow-sm flex items-center justify-center gap-2 md:gap-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 md:h-6 md:w-6" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                    </svg>
                    <span class="btn-text">Selección múltiple</span>
                </button>
            </div>
        </div>
    </div>

    <!-- PANTALLA DE COMPETENCIAS -->
    <div id="competencias-screen" class="min-h-screen flex flex-col" style="display: none;">
        <div class="flex flex-col md:flex-row min-h-screen">
            <!-- Botón de menú móvil -->
            <button id="mobile-menu-btn-competencias" class="mobile-menu-btn md:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-blue-600 text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            
            <!-- Overlay para móvil -->
            <div id="overlay-competencias" class="overlay"></div>
            
            <!-- BARRA LATERAL DE NAVEGACIÓN -->
            <nav id="sidebar-competencias" class="sidebar w-full md:w-64 lg:w-72 bg-white shadow-md flex-shrink-0">
                <div class="p-4 md:p-6 border-b">
                    <div class="flex justify-between items-center">
                        <div>
                            <h1 class="text-lg md:text-xl lg:text-2xl font-bold text-gray-800">Digitalización 4º ESO</h1>
                            <p class="text-sm text-gray-500">Selección por Competencias</p>
                        </div>
                        <button id="close-sidebar-competencias" class="md:hidden p-1 rounded-md bg-gray-200">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <button id="back-from-competencias" class="mt-1 md:mt-2 text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                        </svg>
                        Volver al inicio
                    </button>
                </div>
                <div class="p-3 md:p-4 overflow-y-auto md:h-[calc(100vh-105px)]">
                    <ul id="competencias-lista" class="space-y-1.5">
                        <!-- Los botones de las competencias se generarán aquí con JavaScript -->
                    </ul>
                </div>
            </nav>

            <!-- ÁREA DE CONTENIDO PRINCIPAL -->
            <main class="flex-1 p-3 md:p-4 lg:p-6 xl:p-8 overflow-y-auto mt-14 md:mt-0">
                <!-- Botón de Exportar (Nuevo) -->
                <div id="export-container-competencias" class="mb-4 md:mb-6" style="display: none;">
                    <div class="mb-3">
                        <label for="export-format-competencias" class="block text-sm font-medium text-gray-700 mb-1">Formato de Puntuación:</label>
                        <select id="export-format-competencias" name="export-format-competencias" class="w-full md:w-auto block py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            <option value="1">10, 8, 6, 4, 2 (5 niveles)</option>
                            <option value="2">10, 8, 6, 4, 2, 0 (6 niveles, con "No entregado")</option>
                            <option value="3">10, 8.5, 7.5 ... 1.5 (9 niveles)</option>
                            <option value="4">10, 8.5, 7.5 ... 1.5, 0 (10 niveles, con "No entregado")</option>
                        </select>
                    </div>
                    <button id="export-csv-button-competencias" class="w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 md:px-5 md:py-3 rounded-lg bg-green-600 text-white font-medium hover:bg-green-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                        Exportar a Google Classroom (CSV)
                    </button>
                    <div class="text-sm text-gray-600 mt-2">
                        <div class="tooltip-container">
                            <span class="tooltip-trigger">Archivo .csv para llevar a Google Classroom</span>
                            <div class="tooltip-content">
                                <p class="font-semibold mb-2 text-white">Siguientes pasos:</p>
                                <ol class="list-decimal pl-5 space-y-1 text-gray-200">
                                    <li>Exporta el .csv desde la aplicación</li>
                                    <li>Abre una Google Sheet en blanco</li>
                                    <li>Importa el archivo .csv a la Google Sheet</li>
                                    <li>Renombra la Google Sheet, por ejemplo, a "Rúbrica para importar"</li>
                                    <li>Importa la rúbrica desde Classroom</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contenedor para las rúbricas dinámicas -->
                <div id="rubrics-container-competencias" class="space-y-6 md:space-y-8">
                    <!-- Las rúbricas seleccionadas se insertarán aquí -->
                </div>

                <!-- Mensaje de bienvenida/instrucción inicial -->
                <div id="welcome-message-competencias" class="text-center p-6 md:p-8 lg:p-10 bg-white rounded-xl shadow-lg">
                    <svg class="mx-auto h-10 w-10 md:h-12 md:w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="mt-2 text-base md:text-lg font-medium text-gray-800">Selecciona una Competencia</h3>
                    <p class="mt-1 text-xs md:text-sm text-gray-500">Haz clic en una competencia de la barra lateral para ver sus criterios de evaluación.</p>
                </div>
            </main>
        </div>
    </div>

    <!-- PANTALLA DE SELECCIÓN MÚLTIPLE -->
    <div id="multiple-screen" class="min-h-screen flex flex-col" style="display: none;">
        <div class="flex flex-col md:flex-row min-h-screen">
            <!-- Botón de menú móvil -->
            <button id="mobile-menu-btn-multiple" class="mobile-menu-btn md:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-blue-600 text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            
            <!-- Overlay para móvil -->
            <div id="overlay-multiple" class="overlay"></div>
            
            <!-- BARRA LATERAL DE NAVEGACIÓN -->
            <nav id="sidebar-multiple" class="sidebar w-full md:w-64 lg:w-72 bg-white shadow-md flex-shrink-0">
                <div class="p-4 md:p-6 border-b">
                    <div class="flex justify-between items-center">
                        <div>
                            <h1 class="text-lg md:text-xl lg:text-2xl font-bold text-gray-800">Digitalización 4º ESO</h1>
                            <p class="text-sm text-gray-500">Criterios de Evaluación</p>
                        </div>
                        <button id="close-sidebar-multiple" class="md:hidden p-1 rounded-md bg-gray-200">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                    <button id="back-from-multiple" class="mt-1 md:mt-2 text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                        </svg>
                        Volver al inicio
                    </button>
                </div>
                <div class="p-3 md:p-4 overflow-y-auto md:h-[calc(100vh-105px)]">
                    <ul id="criterios-lista" class="space-y-1.5">
                        <!-- Los botones de los criterios se generarán aquí con JavaScript -->
                    </ul>
                </div>
            </nav>

            <!-- ÁREA DE CONTENIDO PRINCIPAL -->
            <main class="flex-1 p-3 md:p-4 lg:p-6 xl:p-8 overflow-y-auto mt-14 md:mt-0">
                <!-- Botón de Exportar (Nuevo) -->
                <div id="export-container" class="mb-4 md:mb-6" style="display: none;">
                    <div class="mb-3">
                        <label for="export-format-multiple" class="block text-sm font-medium text-gray-700 mb-1">Formato de Puntuación:</label>
                        <select id="export-format-multiple" name="export-format-multiple" class="w-full md:w-auto block py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            <option value="1">10, 8, 6, 4, 2 (5 niveles)</option>
                            <option value="2">10, 8, 6, 4, 2, 0 (6 niveles, con "No entregado")</option>
                            <option value="3">10, 8.5, 7.5 ... 1.5 (9 niveles)</option>
                            <option value="4">10, 8.5, 7.5 ... 1.5, 0 (10 niveles, con "No entregado")</option>
                        </select>
                    </div>
                    <button id="export-csv-button" class="w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 md:px-5 md:py-3 rounded-lg bg-green-600 text-white font-medium hover:bg-green-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 shadow-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                        </svg>
                        Exportar a Google Classroom (CSV)
                    </button>
                    <div class="text-sm text-gray-600 mt-2">
                        <div class="tooltip-container">
                            <span class="tooltip-trigger">Archivo .csv para llevar a Google Classroom</span>
                            <div class="tooltip-content">
                                <p class="font-semibold mb-2 text-white">Siguientes pasos:</p>
                                <ol class="list-decimal pl-5 space-y-1 text-gray-200">
                                    <li>Exporta el .csv desde la aplicación</li>
                                    <li>Abre una Google Sheet en blanco</li>
                                    <li>Importa el archivo .csv a la Google Sheet</li>
                                    <li>Renombra la Google Sheet, por ejemplo, a "Rúbrica para importar"</li>
                                    <li>Importa la rúbrica desde Classroom</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contenedor para las rúbricas dinámicas -->
                <div id="rubrics-container" class="space-y-6 md:space-y-8">
                    <!-- Las rúbricas seleccionadas se insertarán aquí -->
                </div>

                <!-- Mensaje de bienvenida/instrucción inicial -->
                <div id="welcome-message" class="text-center p-6 md:p-8 lg:p-10 bg-white rounded-xl shadow-lg">
                    <svg class="mx-auto h-10 w-10 md:h-12 md:w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h3 class="mt-2 text-base md:text-lg font-medium text-gray-800">Selecciona uno o más Criterios</h3>
                    <p class="mt-1 text-xs md:text-sm text-gray-500">Haz clic en los criterios de la barra lateral para ver sus rúbricas. Puedes seleccionar varios a la vez.</p>
                </div>
            </main>
        </div>
    </div>

    <script>
        // =========================================================================
        // === INICIO DE LA ZONA DE EDICIÓN DE DATOS ===
        // =========================================================================
        
        const rubricasData = [
            {
                id: "c1",
                titulo: "DIG.4.1.1. Conectar dispositivos y gestionar redes locales",
                descripcion: "Conectar dispositivos y gestionar redes locales aplicando los conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica con una actitud proactiva.",
                competencia: 1,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No conecta dispositivos ni gestiona redes locales, ni aplica los conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica, ni muestra una actitud proactiva.</li><li class='pl-2'>No presenta evidencias de trabajo en clase relacionadas con este criterio, como por ejemplo, un test sobre redes que no ha realizado o suspendido.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Conecta dispositivos y gestiona redes locales de forma superficial, y aplica algunos conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica, pero no muestra una actitud proactiva.</li><li class='pl-2'>Presenta evidencias de trabajo en clase incompletas o poco elaboradas, como por ejemplo, un test sobre redes que ha realizado con un bajo nivel de aciertos o sin justificar sus respuestas.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Conecta dispositivos y gestiona redes locales de forma básica y adecuada, aplica los conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica, mostrando una actitud proactiva.</li><li class='pl-2'>Presenta evidencias de trabajo en clase suficientes y correctas, como por ejemplo, un test sobre redes que ha realizado con un nivel medio de aciertos y justificando sus respuestas.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Conecta dispositivos y gestiona redes locales de forma amplia y detallada, y aplica los conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica, mostrando una actitud proactiva y resolutiva.</li><li class='pl-2'>Presenta evidencias de trabajo en clase completas y bien estructuradas, como por ejemplo, un test sobre redes que ha realizado con un alto nivel de aciertos y justificando sus respuestas con solvencia.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Conecta dispositivos y gestiona redes locales de forma amplia y detallada, y aplica los conocimientos y procesos asociados a sistemas de comunicación alámbrica e inalámbrica, mostrando una actitud proactiva y resolutiva.</li><li class='pl-2'>Presenta evidencias de trabajo en clase completas y bien estructuradas, como por ejemplo, un test sobre redes que ha realizado con un alto nivel de aciertos y justificando sus respuestas con solvencia.</li></ul>" }
                ]
            },
            {
                id: "c2",
                titulo: "DIG.4.1.2. Instalar y mantener sistemas operativos",
                descripcion: "Instalar y mantener sistemas operativos, configurando sus características en función de sus necesidades personales, de forma sostenible.",
                competencia: 1,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No instala ni mantiene ningún sistema operativo, ni configura sus características en función de sus necesidades personales, ni lo hace de forma sostenible.</li><li class='pl-2'>No realiza ninguna actividad práctica relacionada con la instalación o el mantenimiento de sistemas operativos.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Instala o mantiene algún sistema operativo, pero no configura sus características en función de sus necesidades personales, o lo hace de forma incorrecta o insostenible.</li><li class='pl-2'>Realiza alguna actividad práctica relacionada con la instalación o el mantenimiento de sistemas operativos, pero no la completa o la hace con errores o sin medidas de sostenibilidad.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Instala y mantiene algunos sistemas operativos, y configura sus características en función de sus necesidades personales, y lo hace de forma sostenible.</li><li class='pl-2'>Realiza algunas actividades prácticas relacionadas con la instalación o el mantenimiento de sistemas operativos, y las completa correctamente y con medidas de sostenibilidad.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Instala y mantiene diversos sistemas operativos, y configura sus características en función de sus necesidades personales, y lo hace de forma sostenible, con ejemplos reales.</li><li class='pl-2'>Realiza varias actividades prácticas relacionadas con la instalación o el mantenimiento de sistemas operativos, y las completa correctamente y con medidas de sostenibilidad, con ejemplos sacados de su realidad más próxima.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Instala y mantiene múltiples sistemas operativos, y configura sus características en función de sus necesidades personales, y lo hace de forma sostenible, con ejemplos variados y argumentados.</li><li class='pl-2'>Realiza múltiples actividades prácticas relacionadas con la instalación o el mantenimiento de sistemas operativos, y las completa correctamente y con medidas de sostenibilidad, con ejemplos diversos y razonados.</li></ul>" }
                ]
            },
            {
                id: "c3",
                titulo: "DIG.4.1.3. Identificar y resolver problemas técnicos sencillos",
                descripcion: "Identificar y resolver problemas técnicos sencillos, analizando componentes y funciones de los dispositivos digitales, evaluando las soluciones de manera crítica y reformulando el procedimiento, en caso necesario, fomentando un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable.",
                competencia: 1,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No identifica ni resuelve ningún problema técnico sencillo, ni analiza componentes ni funciones de los dispositivos digitales, ni evalúa las soluciones de manera crítica ni reformula el procedimiento, en caso necesario, ni fomenta un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable.</li><li class='pl-2'>No realiza ninguna actividad práctica relacionada con la identificación o la resolución de problemas técnicos sencillos.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Identifica o resuelve algún problema técnico sencillo, pero no analiza componentes ni funciones de los dispositivos digitales, ni evalúa las soluciones de manera crítica ni reformula el procedimiento, en caso necesario, o no fomenta un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable.</li><li class='pl-2'>Realiza alguna actividad práctica relacionada con la identificación o la resolución de problemas técnicos sencillos, pero no la completa o la hace con errores o sin medidas de sostenibilidad o responsabilidad.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Identifica y resuelve algunos problemas técnicos sencillos, y analiza componentes y funciones de los dispositivos digitales, y evalúa las soluciones de manera crítica y reformula el procedimiento, en caso necesario, y fomenta un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable.</li><li class='pl-2'>Realiza algunas actividades prácticas relacionadas con la identificación o la resolución de problemas técnicos sencillos, y las completa correctamente y con medidas de sostenibilidad y responsabilidad.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Identifica y resuelve diversos problemas técnicos sencillos, y analiza componentes y funciones de los dispositivos digitales, y evalúa las soluciones de manera crítica y reformula el procedimiento, en caso necesario, y fomenta un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable, con ejemplos reales.</li><li class='pl-2'>Realiza varias actividades prácticas relacionadas con la identificación o la resolución de problemas técnicos sencillos, y las completa correctamente y con medidas de sostenibilidad y responsabilidad, con ejemplos sacados de su realidad más próxima.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Identifica y resuelve múltiples problemas técnicos sencillos, y analiza componentes y funciones de los dispositivos digitales, y evalúa las soluciones de manera crítica y reformula el procedimiento, en caso necesario, y fomenta un consumo y reposición de los sistemas digitales y/o tecnológicos de manera sostenible y responsable, con ejemplos variados y argumentados.</li><li class='pl-2'>Realiza múltiples actividades prácticas relacionadas con la identificación o la resolución de problemas técnicos sencillos, y las completa correctamente y con medidas de sostenibilidad y responsabilidad, con ejemplos diversos y razonados.</li></ul>" }
                ]
            },
            {
                id: "c4",
                titulo: "DIG.4.2.1. Gestionar el aprendizaje en el ámbito digital",
                descripcion: "Gestionar el aprendizaje en el ámbito digital, configurando el entorno personal de aprendizaje mediante la integración de recursos digitales de manera autónoma.",
                competencia: 2,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún portafolio digital ni ninguna infografía o mapa conceptual sobre su EPA.</li><li class='pl-2'>No explica cómo selecciona, ni organiza los recursos digitales que utiliza para su aprendizaje.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un portafolio digital muy pobre y desactualizado, o una infografía o mapa conceptual sobre su EPA muy simple y confusa.</li><li class='pl-2'>Explica de forma muy básica y con mucha ayuda cómo selecciona y organiza algunos recursos digitales que utiliza para su aprendizaje.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un portafolio digital adecuado y actualizado, o una infografía o mapa conceptual sobre su EPA clara y completa.</li><li class='pl-2'>Explica de forma adecuada y con poca ayuda cómo selecciona y organiza varios recursos digitales que utiliza para su aprendizaje.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un portafolio digital eficaz y creativo, o una infografía o mapa conceptual sobre su EPA detallada y original.</li><li class='pl-2'>Explica de forma eficaz y autónoma cómo selecciona y organiza diversos recursos digitales que utiliza para su aprendizaje, justificando sus criterios.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un portafolio digital óptimo y personalizado, o una infografía o mapa conceptual sobre su EPA elaborada y crítica.</li><li class='pl-2'>Explica de forma óptima y reflexiva cómo selecciona y organiza una amplia variedad de recursos digitales que utiliza para su aprendizaje, valorando su utilidad.</li></ul>" }
                ]
            },
            {
                id: "c5",
                titulo: "DIG.4.2.2. Buscar, seleccionar y archivar información",
                descripcion: "Buscar, seleccionar y archivar información en función de sus necesidades haciendo uso de las herramientas del entorno personal de aprendizaje con sentido crítico y siguiendo normas básicas de seguridad en la net.",
                competencia: 2,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún informe ni presentación sobre cómo ha buscado, seleccionado y archivado información sobre un tema usando las herramientas de su EPA.</li><li class='pl-2'>No explica ni valora la fiabilidad, relevancia y actualidad de la información ni las ventajas e inconvenientes de cada herramienta.</li><li class='pl-2'>No guarda ni organiza la información en ninguna carpeta ni repositorio digital.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación muy pobre y desactualizado sobre cómo ha buscado, seleccionado y archivado información sobre un tema usando algunas herramientas de su EPA, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica la fiabilidad, relevancia y actualidad de la información y las ventajas e inconvenientes de algunas herramientas.</li><li class='pl-2'>Guarda y organiza la información de forma muy simple y confusa en una carpeta o un repositorio digital.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación adecuada y actualizada sobre cómo ha buscado, seleccionado y archivado información sobre un tema usando varias herramientas de su EPA, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada la fiabilidad, relevancia y actualidad de la información y las ventajas e inconvenientes de varias herramientas.</li><li class='pl-2'>Guarda y organiza la información de forma clara y completa en una carpeta o un repositorio digital.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación eficaz y creativa sobre cómo ha buscado, seleccionado y archivado información sobre un tema usando diversas herramientas de su EPA, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz la fiabilidad, relevancia y actualidad de la información y las ventajas e inconvenientes de diversas herramientas, justificando sus criterios.</li><li class='pl-2'>Guarda y organiza la información de forma detallada y original en una carpeta o un repositorio digital.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación óptima y personalizada sobre cómo ha buscado, seleccionado y archivado información sobre un tema usando una amplia variedad de herramientas de su EPA, de forma creativa.</li><li class='pl-2'>Explica y valora de forma óptima la fiabilidad, relevancia y actualidad de la información y las ventajas e inconvenientes de una amplia variedad de herramientas, valorando su utilidad.</li><li class='pl-2'>Guarda y organiza la información de forma elaborada y crítica en una carpeta o un repositorio digital.</li></ul>" }
                ]
            },
            {
                id: "c6",
                titulo: "DIG.4.2.3. Crear, programar, integrar y reelaborar contenidos digitales",
                descripcion: "Crear, programar, integrar y reelaborar contenidos digitales de forma individual o colectiva, seleccionando las herramientas más apropiadas para generar nuevo conocimiento y contenidos digitales de manera creativa, respetando los derechos de autor y licencias de uso.",
                competencia: 2,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún vídeo, podcast, juego, animación, página web ni blog donde haya creado, programado, integrado o reelaborado contenidos digitales sobre un tema.</li><li class='pl-2'>No explica ni valora las herramientas que ha usado ni las fuentes que ha consultado.</li><li class='pl-2'>No respeta ni cita los derechos de autor ni las licencias de uso.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, juego, animación, página web o blog muy pobre y desactualizado donde haya creado, programado, integrado o reelaborado contenidos digitales sobre un tema, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las herramientas que ha usado y las fuentes que ha consultado.</li><li class='pl-2'>Respeta y cita poco los derechos de autor y las licencias de uso.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, juego, animación, página web o blog adecuado y actualizado donde haya creado, programado, integrado o reelaborado contenidos digitales sobre un tema, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las herramientas que ha usado y las fuentes que ha consultado.</li><li class='pl-2'>Respeta y cita algunos derechos de autor y licencias de uso.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, juego, animación, página web o blog eficaz y creativo donde haya creado, programado, integrado o reelaborado contenidos digitales sobre un tema, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las herramientas que ha usado y las fuentes que ha consultado, justificando sus criterios.</li><li class='pl-2'>Respeta y cita la mayoría de los derechos de autor y licencias de uso.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, juego, animación, página web o blog óptimo y personalizado donde haya creado, programado, integrado o reelaborado contenidos digitales sobre un tema, de forma creativa.</li><li class='pl-2'>Explica y valora de forma óptima las herramientas que ha usado y las fuentes que ha consultado, valorando su utilidad.</li><li class='pl-2'>Respeta y cita todos los derechos de autor y licencias de uso.</li></ul>" }
                ]
            },
            {
                id: "c7",
                titulo: "DIG.4.2.4. Interactuar en espacios virtuales de comunicación",
                descripcion: "Interactuar en espacios virtuales de comunicación y plataformas de aprendizaje colaborativo, compartiendo y publicando información y datos, adaptándose a diferentes audiencias con una actitud participativa y respetuosa.",
                competencia: 2,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No participa en ningún foro, chat, wiki, documento colaborativo, blog ni red social relacionado con el tema.</li><li class='pl-2'>No intercambia opiniones, dudas ni sugerencias con nadie.</li><li class='pl-2'>No aporta información, datos, imágenes ni enlaces.</li><li class='pl-2'>No adapta el formato, el tono ni el estilo a ningún público.</li><li class='pl-2'>No muestra respeto ni interés por la participación y el feedback.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Participa de forma muy básica y con mucha ayuda en algún foro, chat, wiki, documento colaborativo, blog o red social relacionado con el tema.</li><li class='pl-2'>Intercambia pocas opiniones, dudas o sugerencias con algunos compañeros o personas externas al centro, usando un lenguaje poco adecuado, respetuoso y constructivo.</li><li class='pl-2'>Aporta poca información, datos, imágenes o enlaces, sin seguir normas de edición ni citar fuentes.</li><li class='pl-2'>Adapta poco el formato, el tono y el estilo a un público muy general.</li><li class='pl-2'>Muestra poco respeto o interés por la participación y el feedback.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Participa de forma adecuada y con poca ayuda en varios foros, chats, wikis, documentos colaborativos, blogs o redes sociales relacionados con el tema.</li><li class='pl-2'>Intercambia algunas opiniones, dudas o sugerencias con varios compañeros o personas externas al centro, usando un lenguaje adecuado, respetuoso y constructivo.</li><li class='pl-2'>Aporta información, datos, imágenes o enlaces relevantes, siguiendo algunas normas de edición y citando algunas fuentes.</li><li class='pl-2'>Adapta el formato, el tono y el estilo a un público definido.</li><li class='pl-2'>Muestra algo de respeto e interés por la participación y el feedback.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Participa de forma eficaz y autónoma en diversos foros, chats, wikis, documentos colaborativos, blogs o redes sociales relacionados con el tema.</li><li class='pl-2'>Intercambia varias opiniones, dudas o sugerencias con diversos compañeros o personas externas al centro, usando un lenguaje eficaz, respetuoso y constructivo.</li><li class='pl-2'>Aporta información, datos, imágenes o enlaces interesantes y actualizados, siguiendo la mayoría de las normas de edición y citando la mayoría de las fuentes.</li><li class='pl-2'>Adapta bien el formato, el tono y el estilo a un público específico.</li><li class='pl-2'>Muestra bastante respeto e interés por la participación y el feedback.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Participa de forma óptima y creativa en una amplia variedad de foros, chats, wikis, documentos colaborativos, blogs o redes sociales relacionados con el tema.</li><li class='pl-2'>Intercambia muchas opiniones, dudas o sugerencias con una amplia variedad de compañeros o personas externas al centro, usando un lenguaje óptimo, respetuoso y constructivo.</li><li class='pl-2'>Aporta información, datos, imágenes o enlaces originales y críticos, siguiendo todas las normas de edición y citando todas las fuentes.</li><li class='pl-2'>Adapta muy bien el formato, el tono y el estilo a un público diverso.</li><li class='pl-2'>Muestra mucho respeto e interés por la participación y el feedback.</li></ul>" }
                ]
            },
            {
                id: "c8",
                titulo: "DIG.4.3.1. Proteger los datos personales y la huella digital",
                descripcion: "Proteger los datos personales y la huella digital generada en internet, configurando las condiciones de privacidad de las redes sociales y espacios virtuales de trabajo.",
                competencia: 3,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún informe ni presentación sobre cómo ha protegido sus datos personales y su huella digital en internet.</li><li class='pl-2'>No explica ni valora las medidas que ha tomado ni las herramientas que ha usado.</li><li class='pl-2'>No participa en ninguna simulación ni juego relacionado con el tema.</li><li class='pl-2'>No muestra conciencia ni interés por los riesgos ni las consecuencias de su actividad en línea.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación muy pobre y desactualizado sobre cómo ha protegido sus datos personales y su huella digital en internet, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las medidas que ha tomado y las herramientas que ha usado.</li><li class='pl-2'>Participa de forma muy básica y con mucha ayuda en alguna simulación o juego relacionado con el tema.</li><li class='pl-2'>Muestra poca conciencia e interés por los riesgos y las consecuencias de su actividad en línea.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación adecuada y actualizada sobre cómo ha protegido sus datos personales y su huella digital en internet, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las medidas que ha tomado y las herramientas que ha usado.</li><li class='pl-2'>Participa de forma adecuada y con poca ayuda en varias simulaciones o juegos relacionados con el tema.</li><li class='pl-2'>Muestra algo de conciencia e interés por los riesgos y las consecuencias de su actividad en línea.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación eficaz y creativa sobre cómo ha protegido sus datos personales y su huella digital en internet, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las medidas que ha tomado y las herramientas que ha usado, justificando sus criterios.</li><li class='pl-2'>Participa de forma eficaz y autónoma en diversas simulaciones o juegos relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra bastante conciencia e interés por los riesgos y las consecuencias de su actividad en línea.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación óptima y personalizada sobre cómo ha protegido sus datos personales y su huella digital en internet, de forma creativa.</li><li class='pl-2'>Explica y valora de forma óptima las medidas que ha tomado y las herramientas que ha usado, valorando su utilidad.</li><li class='pl-2'>Participa de forma óptima y creativa en una amplia variedad de simulaciones o juegos relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra mucha conciencia e interés por los riesgos y las consecuencias de su actividad en línea.</li></ul>" }
                ]
            },
            {
                id: "c9",
                titulo: "DIG.4.3.2. Configurar y actualizar contraseñas, sistemas operativos y antivirus",
                descripcion: "Configurar y actualizar contraseñas, sistemas operativos y antivirus de forma periódica en los distintos dispositivos digitales de uso habitual.",
                competencia: 3,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún informe ni presentación sobre cómo ha configurado y actualizado sus contraseñas, sistemas operativos y antivirus en los distintos dispositivos digitales que usa.</li><li class='pl-2'>No explica ni valora las opciones que ha elegido ni las herramientas que ha usado.</li><li class='pl-2'>No participa en ninguna simulación ni juego relacionado con el tema.</li><li class='pl-2'>No muestra conciencia ni interés por la seguridad ni la funcionalidad de sus dispositivos.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación muy pobre y desactualizado sobre cómo ha configurado y actualizado sus contraseñas, sistemas operativos y antivirus en algunos dispositivos digitales que usa, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las opciones que ha elegido y las herramientas que ha usado.</li><li class='pl-2'>Participa de forma muy básica y con mucha ayuda en alguna simulación o juego relacionado con el tema.</li><li class='pl-2'>Muestra poca conciencia e interés por la seguridad y la funcionalidad de sus dispositivos.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación adecuada y actualizada sobre cómo ha configurado y actualizado sus contraseñas, sistemas operativos y antivirus en varios dispositivos digitales que usa, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las opciones que ha elegido y las herramientas que ha usado.</li><li class='pl-2'>Participa de forma adecuada y con poca ayuda en varias simulaciones o juegos relacionados con el tema.</li><li class='pl-2'>Muestra algo de conciencia e interés por la seguridad y la funcionalidad de sus dispositivos.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación eficaz y creativa sobre cómo ha configurado y actualizado sus contraseñas, sistemas operativos y antivirus en diversos dispositivos digitales que usa, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las opciones que ha elegido y las herramientas que ha usado, justificando sus criterios.</li><li class='pl-2'>Participa de forma eficaz y autónoma en diversas simulaciones o juegos relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra bastante conciencia e interés por la seguridad y la funcionalidad de sus dispositivos.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación óptima y personalizada sobre cómo ha configurado y actualizado sus contraseñas, sistemas operativos y antivirus en una amplia variedad de dispositivos digitales que usa, de forma creativa.</li><li class='pl-2'>Explica y valora de forma óptima las opciones que ha elegido y las herramientas que ha usado, valorando su utilidad.</li><li class='pl-2'>Participa de forma óptima y creativa en una amplia variedad de simulaciones o juegos relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra mucho conciencia e interés por la seguridad y la funcionalidad de sus dispositivos.</li></ul>" }
                ]
            },
            {
                id: "c10",
                titulo: "DIG.4.3.3. Identificar y saber reaccionar ante amenazas en la red",
                descripcion: "Identificar y saber reaccionar ante situaciones que representan una amenaza en la red, escogiendo la mejor solución entre diversas opciones, desarrollando prácticas saludables y seguras, y valorando el bienestar físico y mental, tanto personal como colectivo.",
                competencia: 3,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún informe ni presentación sobre cómo ha identificado y reaccionado ante situaciones que representan una amenaza en la red.</li><li class='pl-2'>No explica ni valora las opciones que ha considerado ni la solución que ha escogido.</li><li class='pl-2'>No participa en ninguna simulación ni juego, ni cuestionario relacionado con el tema.</li><li class='pl-2'>No muestra conciencia ni interés por las prácticas saludables y seguras ni por el bienestar físico y mental, tanto personal como colectivo.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación muy pobre y desactualizado sobre cómo ha identificado y reaccionado ante algunas situaciones que representan una amenaza en la red, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las opciones que ha considerado y la solución que ha escogido.</li><li class='pl-2'>Participa de forma muy básica y con mucha ayuda en alguna simulación, juego o no supera cuestionario relacionado con el tema.</li><li class='pl-2'>Muestra poca conciencia e interés por las prácticas saludables y seguras y por el bienestar físico y mental, tanto personal como colectivo.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación adecuada y actualizada sobre cómo ha identificado y reaccionado ante varias situaciones que representan una amenaza en la red, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las opciones que ha considerado y la solución que ha escogido.</li><li class='pl-2'>Participa de forma adecuada y con poca ayuda en simulaciones, juegos o supera básicamente cuestionarios relacionados con el tema.</li><li class='pl-2'>Muestra algo de conciencia e interés por las prácticas saludables y seguras y por el bienestar físico y mental, tanto personal como colectivo.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación eficaz y creativa sobre cómo ha identificado y reaccionado ante diversas situaciones que representan una amenaza en la red, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las opciones que ha considerado y la solución que ha escogido, justificando sus criterios.</li><li class='pl-2'>Participa de forma eficaz y autónoma en diversas simulaciones, juegos o supera notablemente cuestionarios relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra bastante conciencia e interés por las prácticas saludables y seguras y por el bienestar físico y mental, tanto personal como colectivo.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe o una presentación óptima y personalizada sobre cómo ha identificado y reaccionado ante una amplia variedad de situaciones que representan una amenaza en la red, de forma autónoma y creativa.</li><li class='pl-2'>Explica y valora de forma óptima las opciones que ha considerado y la solución que ha escogido, valorando su utilidad.</li><li class='pl-2'>Participa de forma óptima y creativa en simulaciones, juegos o supera de modo excepcional cuestionarios relacionados con el tema, tomando decisiones, aplicando estrategias y reflexionando sobre los resultados.</li><li class='pl-2'>Muestra mucha conciencia e interés por las prácticas saludables y seguras y por el bienestar físico y mental, tanto personal como colectivo.</li></ul>" }
                ]
            },
            {
                id: "c11",
                titulo: "DIG.4.4.1. Hacer un uso ético de los datos y las herramientas digitales",
                descripcion: "Hacer un uso ético de los datos y las herramientas digitales, aplicando las normas de etiqueta digital y respetando la privacidad y las licencias de uso y propiedad intelectual en la comunicación, colaboración y participación activa en la red, basadas en el respeto mutuo.",
                competencia: 4,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún informe, presentación, debate, discusión, póster, folleto, campaña ni acción de sensibilización sobre cómo ha hecho un uso ético de los datos y las herramientas digitales.</li><li class='pl-2'>No explica ni valora las normas que ha aplicado ni los aspectos que ha respetado.</li><li class='pl-2'>No muestra conciencia ni interés por el respeto mutuo.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe, presentación, debate, discusión, póster, folleto, campaña o acción de sensibilización muy pobre y desactualizado sobre cómo ha hecho un uso ético de los datos y las herramientas digitales, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las normas que ha aplicado y los aspectos que ha respetado.</li><li class='pl-2'>Muestra poca conciencia e interés por el respeto mutuo.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe, presentación, debate, discusión, póster, folleto, campaña o acción de sensibilización adecuada y actualizado sobre cómo ha hecho un uso ético de los datos y las herramientas digitales, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las normas que ha aplicado y los aspectos que ha respetado.</li><li class='pl-2'>Muestra algo de conciencia e interés por el respeto mutuo.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe, presentación, debate, discusión, póster, folleto, campaña o acción de sensibilización eficaz y creativa sobre cómo ha hecho un uso ético de los datos y las herramientas digitales, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las normas que ha aplicado y los aspectos que ha respetado, justificando sus criterios.</li><li class='pl-2'>Muestra bastante conciencia e interés por el respeto mutuo.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un informe, presentación, debate, discusión, póster, folleto, campaña o acción de sensibilización óptima y personalizada sobre cómo ha hecho un uso ético de los datos y las herramientas digitales, de forma creativa.</li><li class='pl-2'>Explica y valora de forma óptima las normas que ha aplicado y los aspectos que ha respetado, valorando su utilidad.</li><li class='pl-2'>Muestra mucha conciencia e interés por el respeto mutuo.</li></ul>" }
                ]
            },
            {
                id: "c12",
                titulo: "DIG.4.4.2. Reconocer las aportaciones de las tecnologías digitales",
                descripcion: "Reconocer las aportaciones de las tecnologías digitales en las gestiones administrativas, y el comercio electrónico, siendo consciente de la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos.",
                competencia: 4,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No presenta ningún vídeo, podcast, infografía, mapa conceptual, historia, cómic, entrevista, reportaje, iniciativa ni proyecto sobre cómo ha utilizado las tecnologías digitales para realizar alguna gestión administrativa o compra electrónica o sobre la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos.</li><li class='pl-2'>No explica ni valora las opciones que ha considerado ni las acciones que ha realizado.</li><li class='pl-2'>No muestra conciencia ni interés por el tema.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, infografía, mapa conceptual, historia, cómic, entrevista, reportaje, iniciativa o proyecto muy pobre y desactualizado sobre cómo ha utilizado las tecnologías digitales para realizar alguna gestión administrativa o compra electrónica o sobre la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos, con mucha ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma muy básica las opciones que ha considerado y las acciones que ha realizado.</li><li class='pl-2'>Muestra poca conciencia e interés por el tema.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, infografía, mapa conceptual, historia, cómic, entrevista, reportaje, iniciativa o proyecto adecuado y actualizado sobre cómo ha utilizado las tecnologías digitales para realizar alguna gestión administrativa o compra electrónica o sobre la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos, con poca ayuda del profesorado.</li><li class='pl-2'>Explica y valora de forma adecuada las opciones que ha considerado y las acciones que ha realizado.</li><li class='pl-2'>Muestra algo de conciencia e interés por el tema.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, infografía, mapa conceptual, historia, cómic, entrevista, reportaje, iniciativa o proyecto eficaz y creativo sobre cómo ha utilizado las tecnologías digitales para realizar alguna gestión administrativa o compra electrónica o sobre la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos, de forma autónoma.</li><li class='pl-2'>Explica y valora de forma eficaz las opciones que ha considerado y las acciones que ha realizado.</li><li class='pl-2'>Muestra bastante conciencia e interés por el tema.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Presenta un vídeo, podcast, infografía, mapa conceptual, historia, cómic, entrevista, reportaje, iniciativa o proyecto óptimo y personalizado sobre cómo ha utilizado las tecnologías digitales para realizar alguna gestión administrativa o compra electrónica o sobre la brecha social de acceso, uso y aprovechamiento de dichas tecnologías para diversos colectivos.</li><li class='pl-2'>Explica y valora de forma óptima las opciones que ha considerado y las acciones que ha realizado.</li><li class='pl-2'>Muestra mucha conciencia e interés por el tema.</li></ul>" }
                ]
            },
            {
                id: "c13",
                titulo: "DIG.4.4.3. Valorar la importancia de los medios digitales conectados",
                descripcion: "Valorar la importancia de la oportunidad, facilidad y libertad de expresión que suponen los medios digitales conectados, analizando de forma crítica los mensajes que se reciben y transmiten teniendo en cuenta su objetividad, ideología, intencionalidad, sesgos y caducidad.",
                competencia: 4,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No valora la importancia de los medios digitales conectados ni analiza críticamente los mensajes que recibe o transmite.</li><li class='pl-2'>No tiene en cuenta ningún aspecto relevante de los mensajes (objetividad, ideología, intencionalidad, sesgos o caducidad).</li><li class='pl-2'>Por ejemplo, comparte o comenta en redes sociales noticias falsas o manipuladas sin contrastarlas ni cuestionarlas.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Valora de forma superficial la importancia de los medios digitales conectados y analiza de forma poco crítica los mensajes que recibe o transmite.</li><li class='pl-2'>Tiene en cuenta algún aspecto relevante de los mensajes (objetividad, ideología, intencionalidad, sesgos o caducidad), pero lo hace de forma incompleta o errónea.</li><li class='pl-2'>Por ejemplo, reconoce que algunas noticias pueden ser falsas o manipuladas, pero no las contrasta ni las cuestiona adecuadamente.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Valora adecuadamente la importancia de los medios digitales conectados y analiza de forma crítica los mensajes que recibe o transmite.</li><li class='pl-2'>Tiene en cuenta varios aspectos relevantes de los mensajes (objetividad, ideología, intencionalidad, sesgos o caducidad), pero lo hace de forma genérica o superficial.</li><li class='pl-2'>Por ejemplo, contrasta y cuestiona algunas noticias falsas o manipuladas, pero no profundiza en su análisis ni en sus consecuencias.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Valora correctamente la importancia de los medios digitales conectados y analiza de forma crítica y detallada los mensajes que recibe o transmite.</li><li class='pl-2'>Tiene en cuenta todos los aspectos relevantes de los mensajes (objetividad, ideología, intencionalidad, sesgos y caducidad), pero lo hace de forma desequilibrada o con algún error.</li><li class='pl-2'>Por ejemplo, contrasta y cuestiona las noticias falsas o manipuladas, profundiza en su análisis y en sus consecuencias, pero no tiene en cuenta otros puntos de vista o fuentes alternativas.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Valora excelentemente la importancia de los medios digitales conectados y analiza de forma crítica y exhaustiva los mensajes que recibe o transmite.</li><li class='pl-2'>Tiene en cuenta todos los aspectos relevantes de los mensajes (objetividad, ideología, intencionalidad, sesgos y caducidad), y lo hace de forma equilibrada y sin errores.</li><li class='pl-2'>Por ejemplo, contrasta y cuestiona las noticias falsas o manipuladas, profundiza en su análisis y en sus consecuencias, tiene en cuenta otros puntos de vista o fuentes alternativas y propone acciones para mejorar la calidad de la información digital.</li></ul>" }
                ]
            },
            {
                id: "c14",
                titulo: "DIG.4.4.4. Analizar la necesidad y los beneficios de un uso ecosocialmente responsable",
                descripcion: "Analizar la necesidad y los beneficios globales de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales, teniendo en cuenta criterios de accesibilidad, sostenibilidad e impacto.",
                competencia: 4,
                niveles: [
                    { nivel: "(1-2.9)", color: "bg-red-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>No analiza la necesidad ni los beneficios de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales.</li><li class='pl-2'>No tiene en cuenta ningún criterio de accesibilidad, sostenibilidad o impacto.</li></ul>" },
                    { nivel: "(3-4.9)", color: "bg-orange-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Analiza de forma superficial la necesidad y los beneficios de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales.</li><li class='pl-2'>Tiene en cuenta algún criterio de accesibilidad, sostenibilidad o impacto, pero lo hace de forma incompleta o errónea.</li></ul>" },
                    { nivel: "(5-6.9)", color: "bg-yellow-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Analiza adecuadamente la necesidad y los beneficios de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales.</li><li class='pl-2'>Tiene en cuenta varios criterios de accesibilidad, sostenibilidad o impacto, pero lo hace de forma genérica o superficial.</li></ul>" },
                    { nivel: "(7-8.9)", color: "bg-green-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Analiza correctamente la necesidad y los beneficios de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales.</li><li class='pl-2'>Tiene en cuenta todos los criterios de accesibilidad, sostenibilidad e impacto, pero lo hace de forma desequilibrada o con algún error.</li></ul>" },
                    { nivel: "(9-10)", color: "bg-blue-50", descriptor: "<ul class='list-disc list-inside space-y-1'><li class='pl-2'>Analiza excelentemente la necesidad y los beneficios de un uso y desarrollo ecosocialmente responsable de las tecnologías digitales.</li><li class='pl-2'>Tiene en cuenta todos los criterios de accesibilidad, sostenibilidad e impacto, y lo hace de forma equilibrada y sin errores.</li></ul>" }
                ]
            }
        ];

        // Definición de competencias específicas
        const competenciasData = [
            {
                id: 1,
                titulo: "DIG.4.1. Identificar y resolver problemas técnicos sencillos",
                descripcion: "Identificar y resolver problemas técnicos sencillos, conectar y configurar dispositivos a redes domésticas, aplicando los conocimientos de hardware y sistemas operativos, para gestionar de forma sostenible las herramientas e instalaciones informáticas y de comunicación de uso cotidiano.",
                icono: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                </svg>`
            },
            {
                id: 2,
                titulo: "DIG.4.2. Configurar el entorno personal de aprendizaje",
                descripcion: "Configurar el entorno personal de aprendizaje, interactuando y aprovechando los recursos del ámbito digital, para optimizar y gestionar el aprendizaje permanente.",
                icono: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                </svg>`
            },
            {
                id: 3,
                titulo: "DIG.4.3. Desarrollar hábitos que fomenten el bienestar digital",
                descripcion: "Desarrollar hábitos que fomenten el bienestar digital, aplicando medidas preventivas y correctivas, para proteger dispositivos, datos personales y la propia salud.",
                icono: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" />
                </svg>`
            },
            {
                id: 4,
                titulo: "DIG.4.4. Ejercer una ciudadanía digital crítica",
                descripcion: "Ejercer una ciudadanía digital crítica, conociendo las posibles acciones que realizar en la red, e identificando sus repercusiones, para hacer un uso activo, responsable y ético de la tecnología.",
                icono: `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z" clip-rule="evenodd" />
                </svg>`
            }
        ];
        
        // =========================================================================
        // === FIN DE LA ZONA DE EDICIÓN DE DATOS ===
        // =========================================================================
        

        // --- LÓGICA DE LA APLICACIÓN ---

        // Elementos de la pantalla principal
        const mainScreenEl = document.getElementById('main-screen');
        const btnCompetenciasEl = document.getElementById('btn-competencias');
        const btnMultipleEl = document.getElementById('btn-multiple');

        // Elementos de la pantalla de competencias
        const competenciasScreenEl = document.getElementById('competencias-screen');
        const competenciasListaEl = document.getElementById('competencias-lista');
        const rubricsContainerCompetenciasEl = document.getElementById('rubrics-container-competencias');
        const welcomeMessageCompetenciasEl = document.getElementById('welcome-message-competencias');
        const exportContainerCompetenciasEl = document.getElementById('export-container-competencias');
        const exportButtonCompetenciasEl = document.getElementById('export-csv-button-competencias');
        const backFromCompetenciasEl = document.getElementById('back-from-competencias');
        const mobileMenuBtnCompetenciasEl = document.getElementById('mobile-menu-btn-competencias');
        const sidebarCompetenciasEl = document.getElementById('sidebar-competencias');
        const closeSidebarCompetenciasEl = document.getElementById('close-sidebar-competencias');
        const overlayCompetenciasEl = document.getElementById('overlay-competencias');

        // Elementos de la pantalla de selección múltiple
        const multipleScreenEl = document.getElementById('multiple-screen');
        const criteriosListaEl = document.getElementById('criterios-lista');
        const rubricsContainerEl = document.getElementById('rubrics-container');
        const welcomeMessageEl = document.getElementById('welcome-message');
        const exportContainerEl = document.getElementById('export-container');
        const exportButtonEl = document.getElementById('export-csv-button');
        const backFromMultipleEl = document.getElementById('back-from-multiple');
        const mobileMenuBtnMultipleEl = document.getElementById('mobile-menu-btn-multiple');
        const sidebarMultipleEl = document.getElementById('sidebar-multiple');
        const closeSidebarMultipleEl = document.getElementById('close-sidebar-multiple');
        const overlayMultipleEl = document.getElementById('overlay-multiple');

        // Estado para guardar las selecciones
        let selectedCompetencia = null;
        let selectedCriterios = [];

        /**
         * Inicializa la aplicación cuando el DOM está cargado.
         */
        document.addEventListener('DOMContentLoaded', () => {
            // Configurar eventos de navegación
            btnCompetenciasEl.addEventListener('click', showCompetenciasScreen);
            btnMultipleEl.addEventListener('click', showMultipleScreen);
            backFromCompetenciasEl.addEventListener('click', showMainScreen);
            backFromMultipleEl.addEventListener('click', showMainScreen);
            
            // Eventos para menú móvil - competencias
            mobileMenuBtnCompetenciasEl.addEventListener('click', () => {
                sidebarCompetenciasEl.classList.add('open');
                overlayCompetenciasEl.classList.add('open');
            });
            
            closeSidebarCompetenciasEl.addEventListener('click', closeSidebarCompetencias);
            overlayCompetenciasEl.addEventListener('click', closeSidebarCompetencias);
            
            // Eventos para menú móvil - múltiple
            mobileMenuBtnMultipleEl.addEventListener('click', () => {
                sidebarMultipleEl.classList.add('open');
                overlayMultipleEl.classList.add('open');
            });
            
            closeSidebarMultipleEl.addEventListener('click', closeSidebarMultiple);
            overlayMultipleEl.addEventListener('click', closeSidebarMultiple);
            
            // Inicializar pantallas
            populateCompetenciasSidebar();
            populateCriteriosSidebar();

            // ===== INICIO: CÓDIGO MODIFICADO =====
            // Se actualizan los listeners para que lean el formato del selector
            
            exportButtonEl.addEventListener('click', () => {
                const format = document.getElementById('export-format-multiple').value;
                const criteriaToExport = rubricasData.filter(c => selectedCriterios.includes(c.id));
                generateAndDownloadCSV(criteriaToExport, format);
            });
            
            exportButtonCompetenciasEl.addEventListener('click', () => {
                const format = document.getElementById('export-format-competencias').value;
                const criteriaToExport = rubricasData.filter(c => c.competencia == selectedCompetencia);
                generateAndDownloadCSV(criteriaToExport, format);
            });
            // ===== FIN: CÓDIGO MODIFICADO =====
        });

        /**
         * Cierra el sidebar en la pantalla de competencias
         */
        function closeSidebarCompetencias() {
            sidebarCompetenciasEl.classList.remove('open');
            overlayCompetenciasEl.classList.remove('open');
        }

        /**
         * Cierra el sidebar en la pantalla de selección múltiple
         */
        function closeSidebarMultiple() {
            sidebarMultipleEl.classList.remove('open');
            overlayMultipleEl.classList.remove('open');
        }

        /**
         * Muestra la pantalla principal.
         */
        function showMainScreen() {
            mainScreenEl.style.display = 'flex';
            competenciasScreenEl.style.display = 'none';
            multipleScreenEl.style.display = 'none';
            
            // Cerrar sidebars si están abiertos
            closeSidebarCompetencias();
            closeSidebarMultiple();
        }

        /**
         * Muestra la pantalla de competencias.
         */
        function showCompetenciasScreen() {
            mainScreenEl.style.display = 'none';
            competenciasScreenEl.style.display = 'flex';
            multipleScreenEl.style.display = 'none';
            
            // Reiniciar selección
            selectedCompetencia = null;
            renderSelectedCompetenciaRubrics();
            
            // Cerrar sidebar si está abierto
            closeSidebarCompetencias();
        }

        /**
         * Muestra la pantalla de selección múltiple.
         */
        function showMultipleScreen() {
            mainScreenEl.style.display = 'none';
            competenciasScreenEl.style.display = 'none';
            multipleScreenEl.style.display = 'flex';
            
            // Reiniciar selección
            selectedCriterios = [];
            renderSelectedRubrics();
            
            // Cerrar sidebar si está abierto
            closeSidebarMultiple();
        }

        /**
         * Rellena la barra lateral con los botones de las competencias.
         */
        function populateCompetenciasSidebar() {
            if (!competenciasListaEl) return;
            
            competenciasListaEl.innerHTML = '';
            
            competenciasData.forEach(competencia => {
                const li = document.createElement('li');
                const button = document.createElement('button');
                // Cambiado el color de fondo para distinguir competencias específicas
                button.className = "w-full text-left py-2 md:py-2.5 px-4 rounded-lg bg-blue-50 text-blue-800 hover:bg-blue-100 hover:text-blue-900 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 flex items-center gap-1 md:gap-2 break-words";
                button.innerHTML = `${competencia.icono}<span class="text-sm md:text-base">${competencia.titulo}</span>`;
                button.setAttribute('data-id', competencia.id);
                
                button.addEventListener('click', () => {
                    toggleCompetencia(competencia.id, button);
                    // En móvil, cerrar el sidebar después de seleccionar
                    if (window.innerWidth < 768) {
                        closeSidebarCompetencias();
                    }
                });
                
                li.appendChild(button);
                competenciasListaEl.appendChild(li);
            });
        }

        /**
         * Rellena la barra lateral con los botones de los criterios.
         */
        function populateCriteriosSidebar() {
            if (!criteriosListaEl) return;
            
            criteriosListaEl.innerHTML = '';
            
            rubricasData.forEach(criterio => {
                const li = document.createElement('li');
                const button = document.createElement('button');
                // Mantenido el estilo original para los criterios
                button.className = "w-full text-left py-2 md:py-2.5 px-4 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-blue-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 flex items-center gap-1 md:gap-2 break-words";
                
                // Añadir icono según el tipo de criterio
                let iconoHTML = '';
                if (criterio.titulo.includes('Conectar') || criterio.titulo.includes('Instalar') || criterio.titulo.includes('Identificar')) {
                    iconoHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" />
                    </svg>`;
                } else if (criterio.titulo.includes('Gestionar') || criterio.titulo.includes('Buscar') || criterio.titulo.includes('Crear') || criterio.titulo.includes('Interactuar')) {
                    iconoHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM6.75 9.25a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-6.5z" clip-rule="evenodd" />
                    </svg>`;
                } else if (criterio.titulo.includes('Proteger') || criterio.titulo.includes('Configurar')) {
                    iconoHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" />
                    </svg>`;
                } else if (criterio.titulo.includes('Hacer') || criterio.titulo.includes('Reconocer') || criterio.titulo.includes('Valorar') || criterio.titulo.includes('Analizar')) {
                    iconoHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
                    </svg>`;
                } else {
                    iconoHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 md:h-4 md:w-4" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" />
                    </svg>`;
                }
                
                button.innerHTML = `${iconoHTML}<span class="text-sm md:text-base">${criterio.titulo}</span>`;
                button.setAttribute('data-id', criterio.id);
                
                button.addEventListener('click', () => {
                    toggleCriterio(criterio.id, button);
                    // En móvil, cerrar el sidebar después de seleccionar
                    if (window.innerWidth < 768) {
                        closeSidebarMultiple();
                    }
                });
                
                li.appendChild(button);
                criteriosListaEl.appendChild(li);
            });
        }

        /**
         * Selecciona una competencia y actualiza la vista.
         */
        function toggleCompetencia(competenciaId, buttonEl) {
            // Si ya está seleccionada, deseleccionar
            if (selectedCompetencia === competenciaId) {
                selectedCompetencia = null;
                updateButtonStyle(buttonEl, false, 'competencia');
            } else {
                // Deseleccionar cualquier competencia anterior
                const buttons = competenciasListaEl.querySelectorAll('button');
                buttons.forEach(btn => {
                    updateButtonStyle(btn, false, 'competencia');
                });
                
                // Seleccionar la nueva competencia
                selectedCompetencia = competenciaId;
                updateButtonStyle(buttonEl, true, 'competencia');
            }
            
            renderSelectedCompetenciaRubrics();
        }

        /**
         * Añade o quita un criterio de la selección y actualiza la vista.
         */
        function toggleCriterio(criterioId, buttonEl) {
            const index = selectedCriterios.indexOf(criterioId);
            
            if (index > -1) {
                selectedCriterios.splice(index, 1);
                updateButtonStyle(buttonEl, false, 'criterio');
            } else {
                selectedCriterios.push(criterioId);
                updateButtonStyle(buttonEl, true, 'criterio');
            }
            
            renderSelectedRubrics();
        }

        /**
         * Actualiza el estado visual de un botón (activo o inactivo).
         */
        function updateButtonStyle(buttonEl, isActive, type) {
            if (type === 'competencia') {
                if (isActive) {
                    buttonEl.classList.add('bg-blue-600', 'text-white', 'font-semibold');
                    buttonEl.classList.remove('bg-blue-50', 'text-blue-800', 'hover:bg-blue-100', 'hover:text-blue-900');
                } else {
                    buttonEl.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
                    buttonEl.classList.add('bg-blue-50', 'text-blue-800', 'hover:bg-blue-100', 'hover:text-blue-900');
                }
            } else { // criterio
                if (isActive) {
                    buttonEl.classList.add('bg-blue-600', 'text-white', 'font-semibold');
                    buttonEl.classList.remove('text-gray-700', 'hover:bg-gray-100', 'hover:text-blue-600');
                } else {
                    buttonEl.classList.remove('bg-blue-600', 'text-white', 'font-semibold');
                    buttonEl.classList.add('text-gray-700', 'hover:bg-gray-100', 'hover:text-blue-600');
                }
            }
        }

        /**
         * Renderiza las rúbricas de la competencia seleccionada en el panel principal.
         */
        function renderSelectedCompetenciaRubrics() {
            rubricsContainerCompetenciasEl.innerHTML = '';
            
            if (selectedCompetencia === null) {
                welcomeMessageCompetenciasEl.style.display = 'block';
                exportContainerCompetenciasEl.style.display = 'none';
            } else {
                welcomeMessageCompetenciasEl.style.display = 'none';
                exportContainerCompetenciasEl.style.display = 'block';
                
                // Encontrar la competencia seleccionada
                const competencia = competenciasData.find(c => c.id == selectedCompetencia);
                
                // Añadir información de la competencia con el mismo formato azul que el botón seleccionado
                const competenciaHTML = `
                    <div class="bg-blue-600 text-white p-4 md:p-5 lg:p-8 rounded-xl shadow-lg transition-all duration-300 mb-6 md:mb-8">
                        <h2 class="text-xl md:text-2xl lg:text-3xl font-bold mb-3">${competencia.titulo}</h2>
                        <p class="text-sm md:text-base text-blue-100">${competencia.descripcion}</p>
                    </div>
                `;
                rubricsContainerCompetenciasEl.innerHTML += competenciaHTML;
                
                // Añadir los criterios de esta competencia
                rubricasData.forEach(criterio => {
                    if (criterio.competencia == selectedCompetencia) {
                        const rubricHTML = createRubricHTML(criterio);
                        rubricsContainerCompetenciasEl.innerHTML += rubricHTML;
                    }
                });
            }
        }

        /**
         * Renderiza las rúbricas de todos los criterios seleccionados en el panel principal.
         */
        function renderSelectedRubrics() {
            rubricsContainerEl.innerHTML = '';
            
            if (selectedCriterios.length === 0) {
                welcomeMessageEl.style.display = 'block';
                exportContainerEl.style.display = 'none';
            } else {
                welcomeMessageEl.style.display = 'none';
                exportContainerEl.style.display = 'block';
                
                rubricasData.forEach(criterio => {
                    if (selectedCriterios.includes(criterio.id)) {
                        const rubricHTML = createRubricHTML(criterio);
                        rubricsContainerEl.innerHTML += rubricHTML;
                    }
                });
            }
        }

        /**
         * Crea el string HTML para una tarjeta de rúbrica completa.
         */
        function createRubricHTML(criterio) {
            let headHTML = '<tr class="divide-x divide-gray-200">';
            criterio.niveles.forEach(nivel => {
                headHTML += `<th class="rubric-cell py-2 px-2 md:py-4 md:px-4 text-xs md:text-sm font-medium text-gray-800 align-top ${nivel.color} w-1/5">${nivel.nivel}</th>`;
            });
            headHTML += '</tr>';

            let bodyHTML = '<tr class="divide-x divide-gray-200">';
            criterio.niveles.forEach(nivel => {
                bodyHTML += `<td class="rubric-cell py-2 px-2 md:py-4 md:px-4 text-xs md:text-sm text-gray-600 align-top ${nivel.color} w-1/5">${nivel.descriptor}</td>`;
            });
            bodyHTML += '</tr>';
            
            const fullHTML = `
                <div class="bg-white p-4 md:p-5 lg:p-8 rounded-xl shadow-lg transition-all duration-300">
                    <h2 class="text-xl md:text-2xl lg:text-3xl font-bold text-blue-700 mb-3">${criterio.titulo}</h2>
                    <p class="text-sm md:text-base text-gray-600 mb-6 pb-4 md:mb-8 md:pb-6 border-b border-gray-200">${criterio.descripcion}</p>
                    <div class="overflow-x-auto">
                        <table class="rubric-table min-w-full border border-gray-200 divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                ${headHTML}
                            </thead>
                            <tbody class="bg-white">
                                ${bodyHTML}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            
            return fullHTML;
        }

        // ===== INICIO: BLOQUE DE CÓDIGO MODIFICADO/AÑADIDO =====
        // Se eliminan las funciones exportToClassroomCSV y exportToClassroomCSVCompetencias
        // y se reemplazan por estas tres funciones nuevas:

        // --- FUNCIONES DE EXPORTACIÓN ---

        /**
         * Limpia un string HTML y lo formatea para CSV, encerrándolo entre comillas.
         */
        function cleanDescriptor(htmlString) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = htmlString;
            const textoPlano = tempDiv.textContent || tempDiv.innerText || '';
            // Limpiar saltos de línea y espacios múltiples, y escapar comillas
            const textoLimpio = textoPlano.replace(/\s+/g, ' ').trim();
            return `"${textoLimpio.replace(/"/g, '""')}"`;
        }
        
        /**
         * Genera las líneas de puntos y descriptores según el formato seleccionado.
         */
        function getExportData(format, nivelesInvertidos) {
            let puntosLinea = "\t";
            let descriptoresLinea = "\t";
        
            // Extraer descriptores limpios (Alto a Bajo)
            const desc_10 = cleanDescriptor(nivelesInvertidos[0].descriptor); // (9-10)
            const desc_8_9 = cleanDescriptor(nivelesInvertidos[1].descriptor); // (7-8.9)
            const desc_5_6 = cleanDescriptor(nivelesInvertidos[2].descriptor); // (5-6.9)
            const desc_3_4 = cleanDescriptor(nivelesInvertidos[3].descriptor); // (3-4.9)
            const desc_1_2 = cleanDescriptor(nivelesInvertidos[4].descriptor); // (1-2.9)
            const desc_0 = `"No entregado"`;
        
            switch(String(format)) {
                case '1': // 1) 10, 8, 6, 4, 2 (5 niveles)
                    puntosLinea += "10.0\t8.0\t6.0\t4.0\t2.0";
                    descriptoresLinea += `${desc_10}\t${desc_8_9}\t${desc_5_6}\t${desc_3_4}\t${desc_1_2}`;
                    break;
                case '2': // 2) 10, 8, 6, 4, 2, 0 (6 niveles)
                    puntosLinea += "10.0\t8.0\t6.0\t4.0\t2.0\t0.0";
                    descriptoresLinea += `${desc_10}\t${desc_8_9}\t${desc_5_6}\t${desc_3_4}\t${desc_1_2}\t${desc_0}`;
                    break;
                case '3': // 3) 10, 8.5, 7.5, 6.5, 5.5, 4.5, 3.5, 2.5, 1.5 (9 niveles)
                    puntosLinea += "10.0\t8.5\t7.5\t6.5\t5.5\t4.5\t3.5\t2.5\t1.5";
                    descriptoresLinea += `${desc_10}\t${desc_8_9}\t${desc_8_9}\t${desc_5_6}\t${desc_5_6}\t${desc_3_4}\t${desc_3_4}\t${desc_1_2}\t${desc_1_2}`;
                    break;
                case '4': // 4) 10, 8.5, 7.5 ... 1.5, 0 (10 niveles)
                    puntosLinea += "10.0\t8.5\t7.5\t6.5\t5.5\t4.5\t3.5\t2.5\t1.5\t0.0";
                    descriptoresLinea += `${desc_10}\t${desc_8_9}\t${desc_8_9}\t${desc_5_6}\t${desc_5_6}\t${desc_3_4}\t${desc_3_4}\t${desc_1_2}\t${desc_1_2}\t${desc_0}`;
                    break;
                default: // Fallback a la opción 1
                    puntosLinea += "10.0\t8.0\t6.0\t4.0\t2.0";
                    descriptoresLinea += `${desc_10}\t${desc_8_9}\t${desc_5_6}\t${desc_3_4}\t${desc_1_2}`;
            }
            
            return { puntosLinea, descriptoresLinea };
        }

        /**
         * Función genérica para generar y descargar un archivo CSV con el formato de Google Classroom.
         * @param {Array} criteriaList - La lista de objetos de criterio a exportar.
         * @param {string} format - El ID del formato ('1', '2', '3', o '4').
         */
        function generateAndDownloadCSV(criteriaList, format) {
            // Cabeceras fijas
            let csvRows = [
                "Se recomienda no editar las guías de evaluación en formato de hoja de cálculo",
                "v1.0-s"
            ];
        
            if (!criteriaList || criteriaList.length === 0) {
                alert("No hay criterios seleccionados para exportar.");
                return;
            }
        
            // Procesar cada criterio
            criteriaList.forEach(criterio => {
                // Título abreviado
                const tituloAbreviado = getTituloAbreviado(criterio.titulo);
                csvRows.push(tituloAbreviado);
                
                // Descripción completa
                csvRows.push(criterio.descripcion);
                
                // Invertir niveles (de más alto a más bajo)
                const nivelesInvertidos = [...criterio.niveles].reverse();
                
                // Obtener líneas de puntos y descriptores según el formato
                const { puntosLinea, descriptoresLinea } = getExportData(format, nivelesInvertidos);
                
                csvRows.push(puntosLinea);
                csvRows.push(descriptoresLinea);
                
                // Línea vacía
                csvRows.push("");
            });
        
            // Crear y descargar el archivo
            const csvString = csvRows.join('\n');
            const BOM = '\uFEFF'; // Byte Order Mark para UTF-8
            const blob = new Blob([BOM + csvString], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'rubricas_digitalizacion_classroom.csv');
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        
            // Mostrar confirmación con los pasos correctos
            setTimeout(() => {
                alert(`Se han exportado ${criteriaList.length} criterio(s) correctamente.\n\nSiguientes pasos:\n\n1) Exporta el .csv desde la aplicación\n2) Abre una Google Sheet en blanco\n3) Importa el archivo .csv a la Google Sheet\n4) Renombra la Google Sheet, por ejemplo, a "Rúbrica para importar"\n5) Importa la rúbrica desde Classroom`);
            }, 500);
        }

        // ===== FIN: BLOQUE DE CÓDIGO MODIFICADO/AÑADIDO =====


        /**
         * Convierte el título completo en un formato abreviado para la exportación.
         * Ejemplo: "DIG.4.3.1. Intercambiar información" -> "DIG.4.3.1. Intercambio información"
         */
        function getTituloAbreviado(tituloCompleto) {
            // Extraer el código (DIG.4.3.1.)
            const codigoMatch = tituloCompleto.match(/^(DIG\.\d+\.\d+\.\d+)\./);
            if (!codigoMatch) return tituloCompleto;
            
            const codigo = codigoMatch[1]; // Mantener los puntos: DIG.4.3.1
            
            // Extraer la parte descriptiva y crear un título abreviado
            let descripcionAbreviada = tituloCompleto.replace(/^DIG\.\d+\.\d+\.\d+\.\s*/, '');
            
            // Crear abreviaciones comunes
            const abreviaciones = {
                'Conectar dispositivos y gestionar redes locales': 'Conexión dispositivos y redes',
                'Instalar y mantener sistemas operativos': 'Instalación sistemas operativos',
                'Identificar y resolver problemas técnicos sencillos': 'Resolución problemas técnicos',
                'Gestionar el aprendizaje en el ámbito digital': 'Gestión aprendizaje digital',
                'Buscar, seleccionar y archivar información': 'Búsqueda y archivo información',
                'Crear, programar, integrar y reelaborar contenidos digitales': 'Creación contenidos digitales',
                'Interactuar en espacios virtuales de comunicación': 'Interacción espacios virtuales',
                'Proteger los datos personales y la huella digital': 'Protección datos y huella digital',
                'Configurar y actualizar contraseñas, sistemas operativos y antivirus': 'Configuración seguridad',
                'Identificar y saber reaccionar ante amenazas en la red': 'Reacción amenazas red',
                'Hacer un uso ético de los datos y las herramientas digitales': 'Uso ético herramientas digitales',
                'Reconocer las aportaciones de las tecnologías digitales': 'Reconocimiento aportaciones tecnológicas',
                'Valorar la importancia de los medios digitales conectados': 'Valoración medios digitales',
                'Analizar la necesidad y los beneficios de un uso ecosocialmente responsable': 'Análisis sostenibilidad digital'
            };
            
            // Aplicar abreviación si existe
            for (const [completo, abreviado] of Object.entries(abreviaciones)) {
                if (descripcionAbreviada.includes(completo)) {
                    descripcionAbreviada = abreviado;
                    break;
                }
            }
            
            return `${codigo}. ${descripcionAbreviada}`;
        }

    </script>
    <script src="./regist_serviceWorker.js"></script>
	
</body>
</html>